(function(e){function t(t){for(var a,c,l=t[0],o=t[1],u=t[2],d=0,p=[];d<l.length;d++)c=l[d],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&p.push(i[c][0]),i[c]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);s&&s(t);while(p.length)p.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,l=1;l<n.length;l++){var o=n[l];0!==i[o]&&(a=!1)}a&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},i={app:0},r=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var s=o;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1f0e":function(e,t,n){"use strict";n("9f4d")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a,i=n("7a23"),r=n("7864"),c=(n("7dd6"),n("ade3")),l=n("5502"),o="STORE_REWARD",u="CLEAR_REWARDS",s="STOP_SPIN",d="CONTINUE_SPIN",p=Object(l["b"])({state:{isStop:!1,rewards:[]},mutations:(a={},Object(c["a"])(a,o,(function(e,t){e.rewards.push(t)})),Object(c["a"])(a,u,(function(e){e.rewards=[]})),Object(c["a"])(a,s,(function(e){e.isStop=!0})),Object(c["a"])(a,d,(function(e){e.isStop=!1})),a),strict:!0,plugins:[Object(l["a"])()]}),v=p,O=Object(i["hb"])("data-v-aa4b736c");Object(i["I"])("data-v-aa4b736c");var b={class:"app-wrapper"},h={class:"reward-section"},f=Object(i["o"])("h3",null,"Giải thưởng bạn nhận được",-1),j=Object(i["n"])("Thử lại"),m={class:"wheel-wrapper"};Object(i["G"])();var y=O((function(e,t,n,a,r,c){var l=Object(i["O"])("el-button"),o=Object(i["O"])("Wheel"),u=Object(i["O"])("el-modal");return Object(i["F"])(),Object(i["k"])("div",b,[Object(i["o"])("div",h,[f,Object(i["o"])("ul",null,[(Object(i["F"])(!0),Object(i["k"])(i["b"],null,Object(i["M"])(e.rewards,(function(e){return Object(i["F"])(),Object(i["k"])("li",{key:e.id},"$"+Object(i["S"])(e.value),1)})),128))]),Object(i["o"])("h3",null,"Tổng cộng: $"+Object(i["S"])(c.totalReward),1),e.rewards.length>0?(Object(i["F"])(),Object(i["k"])(l,{key:0,type:"primary",onClick:c.retry},{default:O((function(){return[j]})),_:1},8,["onClick"])):Object(i["l"])("",!0)]),Object(i["o"])("div",m,[Object(i["o"])("button",{disabled:r.spinLevel>0||0===r.totalSpinTimes,class:"wheel-button",onClick:t[1]||(t[1]=function(){return c.spin&&c.spin.apply(c,arguments)})},"Quay",8,["disabled"]),Object(i["o"])(o,{record:c.wheelData,"spin-level":r.spinLevel},null,8,["record","spin-level"])]),Object(i["o"])(u)])})),w=n("5530"),S=(n("a9e3"),n("b0c0"),Object(i["hb"])("data-v-814a6184")),N=S((function(e,t,n,a,r,c){var l=Object(i["O"])("Wheel",!0);return Object(i["F"])(),Object(i["k"])("div",{class:["wheel","wheel-level-".concat(n.record.position)]},[Object(i["o"])("div",{class:"wheel__reward-wrapper",style:"transform: rotate(".concat(r.wheelDeg,"deg)")},[(Object(i["F"])(!0),Object(i["k"])(i["b"],null,Object(i["M"])(n.record.rewards,(function(e,t){return Object(i["F"])(),Object(i["k"])("div",{key:e.id,style:"transform: translateY(-50%) rotate(".concat(360/c.totalReward*t,"deg);"),class:"wheel__reward-item"},[Object(i["o"])("p",null,Object(i["S"])(e.name),1)],4)})),128))],4),c.nestedRecord?(Object(i["F"])(),Object(i["k"])(l,{key:0,record:c.nestedRecord,"spin-level":r.localSpinLevel},null,8,["record","spin-level"])):Object(i["l"])("",!0)],2)})),E=n("9612"),M={MONEY:"money",CONTINUE:"continue"},R={id:E["a"].v4(),position:1,rewards:[{id:E["a"].v4(),name:"$0",value:"0",type:M.MONEY},{id:E["a"].v4(),name:"$20",value:"20",type:M.MONEY},{id:E["a"].v4(),name:"$5",value:"5",type:M.MONEY},{id:E["a"].v4(),name:"$10",value:"10",type:M.MONEY},{id:E["a"].v4(),name:"Quay Tiếp",value:"continue",type:M.CONTINUE},{id:E["a"].v4(),name:"$15",value:"15",type:M.MONEY}],nestedItems:{id:E["a"].v4(),position:2,rewards:[{id:E["a"].v4(),name:"$0",value:"0",type:M.MONEY},{id:E["a"].v4(),name:"$20",value:"20",type:M.MONEY},{id:E["a"].v4(),name:"$5",value:"5",type:M.MONEY},{id:E["a"].v4(),name:"Quay Tiếp",value:"continue",type:M.CONTINUE},{id:E["a"].v4(),name:"0",value:"0",type:M.MONEY},{id:E["a"].v4(),name:"$20",value:"20",type:M.MONEY},{id:E["a"].v4(),name:"$15",value:"15",type:M.MONEY}],nestedItems:{id:E["a"].v4(),position:3,rewards:[{id:E["a"].v4(),name:"$10",value:"10",type:M.MONEY},{id:E["a"].v4(),name:"$0",value:"0",type:M.MONEY},{id:E["a"].v4(),name:"$20",value:"20",type:M.MONEY},{id:E["a"].v4(),name:"$0",value:"0",type:M.MONEY},{id:E["a"].v4(),name:"$15",value:"15",type:M.MONEY},{id:E["a"].v4(),name:"$5",value:"15",type:M.MONEY},{id:E["a"].v4(),name:"$20",value:"20",type:M.MONEY},{id:E["a"].v4(),name:"$5",value:"5",type:M.MONEY},{id:E["a"].v4(),name:"$0",value:"0",type:M.MONEY},{id:E["a"].v4(),name:"$10",value:"10",type:M.MONEY}]}}},g=5,T=5,_={name:"Wheel",props:{record:{type:Object,required:!0},spinLevel:{type:Number,default:0}},data:function(){return{spinValue:void 0,localSpinLevel:this.spinLevel,wheelDeg:0,spinTime:0}},methods:Object(w["a"])(Object(w["a"])({},Object(l["c"])(["STORE_REWARD","STOP_SPIN"])),{},{getSpinValue:function(){var e=this,t=this.record.rewards,n=Math.floor(Math.random()*this.totalReward);this.spinTime++,this.spinValue=t[n],this.wheelDeg=this.spinTime*T*this.circleDeg+this.degPerRewardSlice*(this.totalReward-n),setTimeout((function(){e.spinValue.type===M.CONTINUE?e.localSpinLevel=e.localSpinLevel+1:(e.STORE_REWARD(e.spinValue),e.STOP_SPIN())}),4500)}}),computed:{nestedRecord:function(){return this.record.nestedItems},shouldSpin:function(){return this.localSpinLevel===this.record.position},totalReward:function(){return this.record.rewards.length},circleDeg:function(){return 360},degPerRewardSlice:function(){return this.circleDeg/this.totalReward}},watch:{shouldSpin:function(){this.shouldSpin&&this.getSpinValue()},spinLevel:function(){this.localSpinLevel=this.spinLevel}}};n("b3bb");_.render=N,_.__scopeId="data-v-814a6184";var Y=_,$={name:"App",data:function(){return{spinLevel:0,totalSpinTimes:g}},components:{Wheel:Y},computed:Object(w["a"])(Object(w["a"])({},Object(l["d"])(["rewards","isStop"])),{},{wheelData:function(){return R},totalReward:function(){var e;return(null===(e=this.rewards)||void 0===e?void 0:e.reduce((function(e,t){return e+Number(t.value)}),0))||0}}),methods:Object(w["a"])(Object(w["a"])({},Object(l["c"])(["CONTINUE_SPIN","CLEAR_REWARDS"])),{},{spin:function(){this.totalSpinTimes-1>=0&&(this.totalSpinTimes-=1,this.spinLevel=1)},retry:function(){this.totalSpinTimes=g,this.CLEAR_REWARDS()}}),watch:{isStop:function(){this.isStop&&(this.spinLevel=0,this.CONTINUE_SPIN())}}};n("1f0e");$.render=y,$.__scopeId="data-v-aa4b736c";var I=$,k=Object(i["j"])(I);k.use(r["a"]).use(v).mount("#app")},"9f4d":function(e,t,n){},b3bb:function(e,t,n){"use strict";n("bccf")},bccf:function(e,t,n){}});
//# sourceMappingURL=app.21c99a81.js.map